# Test Export

BPMN Planner kan generera **export-ready test scripts** som kan tas till en complete environment f√∂r finalisering. Dessa scripts inneh√•ller BPMN-metadata, tydliga TODO-mark√∂rer och struktur som kan kompletteras i m√•lmilj√∂n.

> **üë®‚Äçüíº F√∂r Test Lead**: Se [README_FOR_TESTLEAD.md](./README_FOR_TESTLEAD.md) f√∂r en dedikerad guide om hur BPMN Planner fungerar och hur du tar test scripts vidare till ditt reella projekt.

## √ñversikt

**BPMN Planner** = Starter environment - Genererar grundl√§ggande testscripts som kan tas vidare  
**Complete Environment** = N√§sta milj√∂ - Kompletterar scripts med riktiga routes, UI-element, testdata

### Vad BPMN Planner Genererar

Export-ready test scripts inkluderar:
- ‚úÖ Korrekt teststruktur (Playwright patterns)
- ‚úÖ BPMN-metadata som kommentarer (fil, nod, scenario, persona, riskLevel, etc.)
- ‚úÖ Tydliga TODO-mark√∂rer f√∂r vad som beh√∂ver kompletteras
- ‚úÖ Scenario-baserad logik (persona setup, uiFlow-struktur, assertions)
- ‚úÖ Smart defaults (inferred routes/endpoints fr√•n nodnamn)

**Exkluderar** (ska l√§ggas till i complete environment):
- ‚ùå Riktiga routes/endpoints
- ‚ùå Riktiga UI locators
- ‚ùå Riktiga testdata fixtures

### Hur Det Fungerar

1. **Generera test scripts** i BPMN Planner (som vanligt)
2. **Exportera scripts** via export-knapp i UI
3. **Importera till complete environment**
4. **Komplettera** med riktiga routes, locators och testdata
5. **K√∂r och validera** tester

### Exempel: Export-Ready Test

```typescript
// ============================================
// EXPORT-READY TEST - Generated by BPMN Planner
// BPMN File: mortgage-se-application.bpmn
// Node ID: confirm-application
// Scenario: EPIC-S1 - Normalfl√∂de med komplett underlag
// Persona: customer, Risk Level: P0
// ============================================

import { test, expect } from '@playwright/test';

test.describe('P0 - Confirm Application - Happy Path', () => {
  test('Normalfl√∂de med komplett underlag', async ({ page }) => {
    // Setup: Login as customer
    await page.goto('/login'); // ‚ö†Ô∏è TODO: Update with actual login route
    await page.fill('#email', 'customer@example.com'); // ‚ö†Ô∏è TODO: Use real test credentials
    
    // Navigation steps (from uiFlow)
    await page.goto('/application-form'); // ‚ö†Ô∏è TODO: Update with actual route
    await page.fill('#form', 'TODO: Add test data'); // ‚ö†Ô∏è TODO: Update locator and add test data
    
    // Assertions based on scenario outcome
    await expect(page.locator('.success-message, .confirmation')).toBeVisible();
  });
});
```

### Dokumentation

Se f√∂ljande dokumentation f√∂r detaljer:
- `docs/STARTER_VS_COMPLETE_ENVIRONMENT.md` - Fullst√§ndig plan f√∂r starter vs. complete environment
- `docs/EXPORT_INTEGRATION_WITH_EXISTING_UI.md` - Hur export integreras med befintlig UI
- `docs/EXPORT_TO_COMPLETE_ENVIRONMENT.md` - Guide f√∂r export-processen
- `docs/COMPLETING_TESTS_IN_COMPLETE_ENVIRONMENT.md` - Guide f√∂r att komplettera scripts
