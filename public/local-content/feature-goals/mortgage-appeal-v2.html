<!DOCTYPE html>
<html lang="sv">
<head>
  <meta name="x-generation-source" content="local-fallback" />
  <meta name="x-feature-goal-template-version" content="v2" />
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Appeal</title>
  <style>
    :root {
      --primary: #1d4ed8;
      --text-strong: #0f172a;
      --text-muted: #64748b;
      --border: #e2e8f0;
      --accent: #e0e7ff;
      --bg-light: #f8f9fa;
    }
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      margin: 0;
      padding: 24px;
      background: #ffffff;
      color: var(--text-strong);
      line-height: 1.6;
      max-width: 1200px;
      margin: 0 auto;
    }
    h1 {
      font-size: 2rem;
      margin: 0 0 32px;
      border-bottom: 2px solid var(--border);
      padding-bottom: 12px;
      color: var(--text-strong);
    }
    h2 {
      color: var(--primary);
      margin: 0;
      font-size: 1.5rem;
    }
    h3 {
      color: var(--text-strong);
      margin: 32px 0 12px;
      font-size: 1.2rem;
    }
    p { margin: 0 0 12px; }
    ul {
      padding-left: 24px;
      margin: 0 0 16px;
    }
    li { margin-bottom: 8px; }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 16px 0;
      background: white;
      border: 1px solid var(--border);
      border-radius: 6px;
      overflow: hidden;
    }
    table th,
    table td {
      border-bottom: 1px solid var(--border);
      padding: 12px;
      text-align: left;
    }
    table th {
      background: var(--accent);
      color: var(--primary);
      font-weight: 600;
    }
    table tr:last-child td {
      border-bottom: none;
    }
    .muted {
      color: var(--text-muted);
      font-size: 0.9rem;
      font-style: italic;
    }
    .card {
      background: var(--bg-light);
      padding: 20px;
      border-radius: 8px;
      margin: 16px 0;
      border-left: 4px solid var(--primary);
    }
    .doc-section {
      margin-bottom: 16px;
      background: white;
      border: 1px solid var(--border);
      border-radius: 8px;
      overflow: hidden;
    }
    .doc-section details {
      margin: 0;
    }
    .doc-section details summary {
      cursor: pointer;
      font-weight: 600;
      color: var(--primary);
      padding: 16px 20px;
      background: var(--bg-light);
      border-bottom: 1px solid var(--border);
      user-select: none;
      font-size: 1.5rem;
      list-style: none;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .doc-section details summary::-webkit-details-marker {
      display: none;
    }
    .doc-section details summary::before {
      content: '‚ñ∂';
      display: inline-block;
      transition: transform 0.2s;
      font-size: 0.8rem;
      color: var(--primary);
    }
    .doc-section details[open] summary::before {
      transform: rotate(90deg);
    }
    .doc-section details summary:hover {
      background: var(--accent);
    }
    .doc-section details .section-content {
      padding: 20px;
    }
    .doc-section details[open] summary {
      border-bottom: 1px solid var(--border);
    }
    .doc-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: var(--accent);
      color: var(--primary);
      padding: 2px 10px;
      border-radius: 999px;
      font-size: 0.8rem;
      font-weight: 600;
      margin-bottom: 8px;
    }
    .local-version-badge {
      background: #e0f2fe;
      color: #0369a1;
      padding: 8px 16px;
      margin: 16px 0;
      border-radius: 6px;
      border-left: 4px solid #0284c7;
      font-size: 0.9rem;
      font-weight: 500;
    }
    .llm-fallback-banner {
      padding: 8px 12px;
      margin-bottom: 16px;
      border-radius: 6px;
      background-color: #fefce8;
      color: #854d0e;
      border: 1px solid #fef9c3;
      font-size: 0.85rem;
    }
    .llm-fallback-badge {
      display: inline-block;
      padding: 4px 8px;
      margin-bottom: 12px;
      border-radius: 4px;
      background-color: #fff3cd;
      color: #856404;
      border: 1px solid #ffeeba;
      font-size: 0.9rem;
      font-weight: 600;
    }
    .llm-fallback-details {
      font-size: 0.8rem;
      color: #4b5563;
      margin-bottom: 16px;
      white-space: pre-wrap;
    }
    .llm-fallback-local-note {
      font-size: 0.8rem;
      color: #2563eb;
      margin-bottom: 16px;
    }
    details {
      margin: 16px 0;
    }
    details summary {
      cursor: pointer;
      font-weight: 600;
      color: var(--primary);
      padding: 12px;
      background: var(--bg-light);
      border: 1px solid var(--border);
      border-radius: 6px;
      user-select: none;
    }
    details summary:hover {
      background: var(--accent);
    }
    details[open] summary {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;
    }
    details .collapsible-content {
      padding: 16px;
      border: 1px solid var(--border);
      border-top: none;
      border-radius: 0 0 6px 6px;
      margin-top: 0;
    }
    img {
      max-width: 100%;
      height: auto;
      border: 1px solid var(--border);
      border-radius: 4px;
      margin: 12px 0;
    }
    a {
      color: var(--primary);
      text-decoration: none;
      font-weight: 500;
    }
    a:hover { text-decoration: underline; }
</style>
</head>
<body>
  <div class="local-version-badge" style="background: #e0f2fe; color: #0369a1; padding: 8px 16px; margin: 16px; border-radius: 6px; border-left: 4px solid #0284c7; font-size: 0.9rem; font-weight: 500;">
      üìÑ Lokal version ‚Äì F√∂rb√§ttrat inneh√•ll
    </div>
  
    
      


    
    <section class="doc-section">
      <details open>
        <summary>Beskrivning av FGoal</summary>
        <div class="section-content">
<p>Appeal √§r en kundprocess d√§r kunden kan √∂verklaga en automatiskt avvisad bol√•neans√∂kan. Processen ger kunden m√∂jlighet att skicka in en √∂verklagan med motivering och kompletterande dokumentation, som sedan granskas av en handl√§ggare. Om √∂verklagan accepteras g√•r ans√∂kan vidare till manuell kreditevaluering, medan en avvisad √∂verklagan kan leda till att kunden f√•r m√∂jlighet att skicka in en ny √∂verklagan.</p>
        </div>
      </details>
    </section>
<section class="doc-section">
      <details>
        <summary>Processteg - Input</summary>
        <div class="section-content">
<ul>
        <li>Kreditans√∂kan har blivit automatiskt avvisad via "Automatically rejected?" gateway i huvudprocessen</li>
        <li>Alternativt: Manuell kreditevaluering har blivit automatiskt avvisad och triggar "credit-evaluation-automatically-rejected" escalation</li>
        <li>Processen startar n√§r Appeal anropas fr√•n huvudprocessen via en gateway som samlar fl√∂den fr√•n b√•de automatiskt avvisade ans√∂kningar och fr√•n manuell kreditevaluering som blivit automatiskt avvisad</li>
        <li>Kunden har tillg√•ng till Stakeholder-portalen f√∂r att skicka in √∂verklagan</li>
        <li>Handl√§ggare har tillg√•ng till Caseworker-systemet f√∂r att granska √∂verklagan</li>
      </ul>
        </div>
      </details>
    </section>

    <section class="doc-section">
      <details>
        <summary>Processteg - Output</summary>
        <div class="section-content">
<ul>
        <li>Om √∂verklagan accepteras: Ans√∂kan g√•r vidare via en gateway som samlar fl√∂den till manuell kreditevaluering</li>
        <li>Om √∂verklagan avvisas: Processen loopar tillbaka via loop-gateway s√• kunden kan skicka in en ny √∂verklagan (max antal g√•nger enligt policy)</li>
        <li><strong>Timeout-hantering (tv√• olika mekanismer):</strong>
          <ul>
            <li><strong>Timeout i Appeal-processen:</strong> Om "Submit appeal" user task inte slutf√∂rs inom 30 dagar (P30D), triggas boundary event "event-appeal-timeout" ‚Üí end event "appeal-timeout" med escalation "appeal-timeout"</li>
            <li><strong>Timeout p√• Appeal call activity:</strong> Om hela Appeal call activity i mortgage.bpmn timeout, triggas boundary event "event-appeal-timeout" ‚Üí "application-automatically-rejected" end event</li>
          </ul>
        </li>
      </ul>
        </div>
      </details>
    </section>

    <section class="doc-section">
      <details>
        <summary>Omfattning</summary>
        <div class="section-content">
<ul>
        <li>Stakeholder kan skicka in √∂verklagan via user task "Submit appeal" (Stakeholder lane)</li>
        <li>Caseworker granskar √∂verklagan via user task "Screen appeal" (Caseworker lane)</li>
        <li>Beslut om √∂verklagan accepteras eller avvisas via gateway "Screening accepted?"</li>
        <li>Loop-gateway som hanterar loop-mekanismen n√§r screening avvisas, s√• kunden kan skicka in en ny √∂verklagan</li>
        <li>Timeout-hantering p√• 30 dagar (P30D) f√∂r "Submit appeal" task via boundary event "event-appeal-timeout"</li>
        <li>Loop-mekanism som m√∂jligg√∂r flera √∂verklagansf√∂rs√∂k om den f√∂rsta avvisas (via Gateway_1v59ktc)</li>
      </ul>
        </div>
      </details>
    </section>

    <section class="doc-section">
      <details>
        <summary>Avgr√§nsning</summary>
        <div class="section-content">
<ul>
        <li>Manuell kreditevaluering ing√•r inte - den √§r en separat process som anropas efter att √∂verklagan accepterats</li>
        <li>Automatisk kreditevaluering ing√•r inte - den sker innan Appeal-processen startar</li>
        <li>KYC-processen ing√•r inte - den sker innan Appeal-processen startar</li>
        <li>Dokumentationshantering ing√•r inte - den hanteras i manuell kreditevaluering</li>
      </ul>
        </div>
      </details>
    </section>

    <section class="doc-section">
      <details>
        <summary>Beroenden</summary>
        <div class="section-content">
<ul>
        <li><strong>Mortgage huvudprocess (mortgage.bpmn):</strong>
          <ul>
            <li>Appeal anropas n√§r en ans√∂kan har blivit automatiskt avvisad via "Automatically rejected?" gateway</li>
            <li>Appeal anropas ocks√• n√§r manuell kreditevaluering har blivit automatiskt avvisad och triggar "credit-evaluation-automatically-rejected" escalation (loop-mekanism)</li>
            <li>Appeal call activity har boundary event "Timeout" som triggar escalation "appeal-timeout" ‚Üí "Automatically rejected" end event om hela Appeal-processen timeout</li>
            <li>Appeal g√•r vidare via en gateway som samlar fl√∂den till manuell kreditevaluering</li>
          </ul>
        </li>
        <li><strong>Manual credit evaluation:</strong>
          <ul>
            <li>Om √∂verklagan accepteras, g√•r processen vidare till manuell kreditevaluering</li>
            <li>Manuell kreditevaluering kan trigga "credit-evaluation-automatically-rejected" escalation som g√•r tillbaka till Appeal (loop-mekanism), s√• kunden kan √∂verklaga igen</li>
          </ul>
        </li>
        <li><strong>Timeout-hantering (tv√• olika mekanismer):</strong>
          <ul>
            <li><strong>I Appeal-processen:</strong> Boundary event "Timeout" p√• "Submit appeal" task (30 dagar P30D) ‚Üí end event "Appeal timeout" med escalation "appeal-timeout"</li>
            <li><strong>I mortgage.bpmn:</strong> Boundary event "Timeout" p√• Appeal call activity ‚Üí escalation "appeal-timeout" ‚Üí "Automatically rejected" end event</li>
          </ul>
        </li>
        <li><strong>Escalation Events:</strong>
          <ul>
            <li>appeal-timeout (b√•de i Appeal-processen och mortgage.bpmn) - triggas n√§r √∂verklagan timeout</li>
            <li>credit-evaluation-automatically-rejected (fr√•n manuell kreditevaluering, kan trigga loop tillbaka till Appeal)</li>
          </ul>
        </li>
        <li><strong>Message Events:</strong>
          <ul>
            <li>event-appeal-requested - definierad men anv√§nds inte direkt i processen</li>
          </ul>
        </li>
        <li><strong>Caseworker-system:</strong> Handl√§ggare beh√∂ver tillg√•ng till system f√∂r att granska √∂verklagan</li>
        <li><strong>Stakeholder-portal:</strong> Kunden beh√∂ver tillg√•ng till portal f√∂r att skicka in √∂verklagan</li>
      </ul>
        </div>
      </details>
    </section>

    <section class="doc-section">
      <details>
        <summary>BPMN - Process</summary>
        <div class="section-content">
<p><a href="#/bpmn/mortgage-se-appeal.bpmn">Visa BPMN-processen f√∂r Appeal</a></p>
      <p class="muted">Processen inneh√•ller tv√• lanes: "Stakeholder" (kund) och "Caseworker" (handl√§ggare).</p>
      <p class="muted"><strong>Fl√∂de i Appeal-processen:</strong> Start event ‚Üí Loop-gateway ‚Üí "Submit appeal" (Stakeholder lane) ‚Üí "Screen appeal" (Caseworker lane) ‚Üí "Screening accepted?" gateway ‚Üí Om Yes: End event (g√•r vidare till manuell kreditevaluering) / Om No: Loop tillbaka via loop-gateway s√• kunden kan skicka in en ny √∂verklagan.</p>
      <p class="muted"><strong>Timeout-hantering:</strong> "Submit appeal" user task har boundary event "Timeout" (Timer: 30 dagar P30D) som triggar end event "Appeal timeout" med escalation "appeal-timeout".</p>
      <p class="muted"><strong>Fl√∂de i mortgage.bpmn:</strong> Appeal anropas n√§r en ans√∂kan har blivit automatiskt avvisad via "Automatically rejected?" gateway. Appeal anropas ocks√• n√§r manuell kreditevaluering har blivit automatiskt avvisad och triggar "credit-evaluation-automatically-rejected" escalation (loop-mekanism). Appeal call activity har boundary event "Timeout" som g√•r till "Automatically rejected" end event. N√§r Appeal slutf√∂rs, g√•r fl√∂det via en gateway som samlar fl√∂den till manuell kreditevaluering. Manuell kreditevaluering kan trigga "credit-evaluation-automatically-rejected" escalation som g√•r tillbaka till Appeal (loop).</p>
        </div>
      </details>
    </section>

    <section class="doc-section">
      <details>
        <summary>Testgenerering</summary>
        <div class="section-content">
<p class="muted">Information f√∂r att generera automatiserade tester. Delar kan auto-genereras fr√•n processbeskrivningen, men kompletteras manuellt med implementation-specifik information (routes, locators, testdata).</p>

      <h3>Testscenarier</h3>
      <table>
        <thead>
          <tr>
            <th>ID</th>
            <th>Namn</th>
            <th>Typ</th>
            <th>Persona</th>
            <th>Risk Level</th>
            <th>Assertion Type</th>
            <th>Outcome</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          
      <tr>
        <td><strong>S1</strong></td>
        <td>Normalfl√∂de ‚Äì √∂verklagan accepterad efter automatisk avvisning</td>
        <td>Happy</td>
        <td>customer</td>
        <td>P0</td>
        <td>functional</td>
        <td><strong>Givet:</strong> Ans√∂kan har blivit automatiskt avvisad (is-automatically-rejected=Yes), Appeal anropas via Gateway_0f1a2lu. <strong>N√§r:</strong> Stakeholder skickar in √∂verklagan via "Submit appeal" (Stakeholder lane) med motivering "Ny l√∂nespecifikation tillg√§nglig" och dokumentation. Caseworker granskar via "Screen appeal" (Caseworker lane) och accepterar. <strong>D√•:</strong> "Screening accepted?" gateway returnerar Yes. Processen avslutas med Event_1pzbohb. <strong>Assert:</strong> Appeal-processen avslutas normalt, fl√∂det g√•r via Gateway_1qiy2jr till Manual credit evaluation, ans√∂kan √§r redo f√∂r manuell kreditevaluering.</td>
        <td>‚úÖ Planerad</td>
      </tr>
    
      <tr>
        <td><strong>S2</strong></td>
        <td>√ñverklagan avvisad ‚Äì loop via Gateway_1v59ktc</td>
        <td>Error</td>
        <td>customer</td>
        <td>P1</td>
        <td>functional</td>
        <td><strong>Givet:</strong> Ans√∂kan har blivit automatiskt avvisad, Appeal anropas. <strong>N√§r:</strong> Stakeholder skickar in √∂verklagan, Caseworker granskar via "Screen appeal" och avvisar (motivering: "Ofullst√§ndig information"). <strong>D√•:</strong> "Screening accepted?" gateway returnerar No. Processen loopar tillbaka via Gateway_1v59ktc (loop-gateway). <strong>Assert:</strong> Processen loopar tillbaka till start, Stakeholder kan skicka in ny √∂verklagan, loop r√§knas (max antal g√•nger enligt policy, t.ex. 3 f√∂rs√∂k), om max antal n√•s avvisas ans√∂kan permanent.</td>
        <td>‚úÖ Planerad</td>
      </tr>
    
      <tr>
        <td><strong>S3</strong></td>
        <td>Timeout i Appeal-processen (30 dagar p√• submit-appeal)</td>
        <td>Error</td>
        <td>system</td>
        <td>P0</td>
        <td>functional</td>
        <td><strong>Givet:</strong> Appeal-processen startar, "Submit appeal" user task √§r aktiv. <strong>N√§r:</strong> Stakeholder startar √∂verklagan men slutf√∂r inte "Submit appeal" inom 30 dagar (P30D). <strong>D√•:</strong> Boundary event "event-appeal-timeout" triggas p√• "Submit appeal" task. End event "appeal-timeout" med escalation "appeal-timeout" (Escalation_34epnhh) triggas. <strong>Assert:</strong> Appeal-processen avslutas med timeout, escalation "appeal-timeout" signaleras, ans√∂kan avvisas automatiskt i Appeal-processen.</td>
        <td>‚úÖ Planerad</td>
      </tr>
    
      <tr>
        <td><strong>S4</strong></td>
        <td>Timeout p√• Appeal call activity i mortgage.bpmn</td>
        <td>Error</td>
        <td>system</td>
        <td>P0</td>
        <td>functional</td>
        <td><strong>Givet:</strong> Appeal anropas via "appeal" call activity i mortgage.bpmn. <strong>N√§r:</strong> Hela Appeal call activity timeout (t.ex. efter l√§ngre tid √§n 30 dagar eller systemfel). <strong>D√•:</strong> Boundary event "event-appeal-timeout" triggas p√• Appeal call activity i mortgage.bpmn. Escalation "appeal-timeout" (Escalation_0b3ql7g) triggas. Fl√∂det g√•r till "application-automatically-rejected" end event. <strong>Assert:</strong> Appeal call activity avbryts, escalation "appeal-timeout" signaleras till mortgage.bpmn, ans√∂kan avvisas automatiskt via "application-automatically-rejected" end event, processen avslutas.</td>
        <td>‚úÖ Planerad</td>
      </tr>
    
      <tr>
        <td><strong>S5</strong></td>
        <td>Loop med Manual credit evaluation ‚Äì automatisk avvisning triggar ny Appeal</td>
        <td>Edge</td>
        <td>system</td>
        <td>P1</td>
        <td>functional</td>
        <td><strong>Givet:</strong> Appeal accepteras, fl√∂det g√•r via Gateway_1qiy2jr till Manual credit evaluation. <strong>N√§r:</strong> Manual credit evaluation triggar "credit-evaluation-automatically-rejected" escalation (Escalation_3ron523). <strong>D√•:</strong> Escalation g√•r tillbaka till Gateway_0f1a2lu som dirigerar tillbaka till Appeal. <strong>Assert:</strong> Appeal anropas igen (loop), Stakeholder kan skicka in ny √∂verklagan, loop r√§knas, om max antal n√•s avvisas ans√∂kan permanent, processen avslutas med "application-automatically-rejected".</td>
        <td>‚úÖ Planerad</td>
      </tr>
    
      <tr>
        <td><strong>S6</strong></td>
        <td>Max antal √∂verklagansf√∂rs√∂k n√•s ‚Äì permanent avvisning</td>
        <td>Error</td>
        <td>customer</td>
        <td>P1</td>
        <td>functional</td>
        <td><strong>Givet:</strong> Policy till√•ter max 3 √∂verklagansf√∂rs√∂k. Stakeholder har redan skickat in 2 √∂verklagningar som avvisats. <strong>N√§r:</strong> Stakeholder skickar in tredje √∂verklagan, Caseworker avvisar igen. <strong>D√•:</strong> "Screening accepted?" gateway returnerar No. Loop-r√§knaren n√•r max (3). <strong>Assert:</strong> Processen avslutas med permanent avvisning, ans√∂kan kan inte √∂verklagas igen, "application-automatically-rejected" end event triggas, Stakeholder f√•r tydligt meddelande om permanent avvisning.</td>
        <td>‚úÖ Planerad</td>
      </tr>
    
      <tr>
        <td><strong>S7</strong></td>
        <td>Ofullst√§ndig √∂verklagan ‚Äì validering och komplettering</td>
        <td>Edge</td>
        <td>customer</td>
        <td>P1</td>
        <td>functional</td>
        <td><strong>Givet:</strong> Ans√∂kan har blivit automatiskt avvisad, Appeal anropas. <strong>N√§r:</strong> Stakeholder f√∂rs√∂ker skicka in √∂verklagan via "Submit appeal" men saknar motivering eller dokumentation (t.ex. tomt motiveringsf√§lt eller inga dokument uppladdade). <strong>D√•:</strong> Systemet validerar √∂verklagan och kr√§ver komplettering. <strong>Assert:</strong> "Submit appeal" task blockerar submission, valideringsfel visas tydligt (t.ex. "Motivering kr√§vs", "Dokumentation kr√§vs"), Stakeholder kan komplettera och skicka in igen, processen forts√§tter n√§r √∂verklagan √§r komplett.</td>
        <td>‚úÖ Planerad</td>
      </tr>
    
      <tr>
        <td><strong>S8</strong></td>
        <td>Caseworker avvisar med specifik motivering</td>
        <td>Edge</td>
        <td>caseworker</td>
        <td>P1</td>
        <td>functional</td>
        <td><strong>Givet:</strong> Stakeholder har skickat in √∂verklagan med motivering och dokumentation. <strong>N√§r:</strong> Caseworker granskar via "Screen appeal" (Caseworker lane) och avvisar med motivering "Dokumentationen st√∂djer inte √∂verklagan" eller "Ny information √§r inte relevant". <strong>D√•:</strong> "Screening accepted?" gateway returnerar No. Caseworker anger avvisningsmotivering. <strong>Assert:</strong> Avvisningsmotivering sparas, Stakeholder f√•r tydligt meddelande om avvisning och motivering, processen loopar tillbaka via Gateway_1v59ktc, Stakeholder kan skicka in ny √∂verklagan med f√∂rb√§ttrad information.</td>
        <td>‚úÖ Planerad</td>
      </tr>
    
      <tr>
        <td><strong>S9</strong></td>
        <td>Appeal anropas fr√•n olika kontexter</td>
        <td>Edge</td>
        <td>system</td>
        <td>P1</td>
        <td>functional</td>
        <td><strong>Givet:</strong> Olika anropningskontexter: (a) Automatisk avvisning fr√•n Credit Decision, (b) Automatisk avvisning fr√•n Manual Credit Evaluation. <strong>N√§r:</strong> Appeal anropas via "appeal" call activity fr√•n Gateway_0f1a2lu. <strong>D√•:</strong> Appeal-processen startar korrekt oavsett anropningskontext. <strong>Assert:</strong> Appeal-processen fungerar identiskt oavsett anropningskontext, alla kontexter hanteras korrekt, fl√∂det g√•r korrekt till Manual credit evaluation efter accepterad √∂verklagan.</td>
        <td>‚úÖ Planerad</td>
      </tr>
    
      <tr>
        <td><strong>S10</strong></td>
        <td>Concurrent √∂verklagningar ‚Äì flera f√∂rs√∂k samtidigt</td>
        <td>Edge</td>
        <td>system</td>
        <td>P2</td>
        <td>functional</td>
        <td><strong>Givet:</strong> Stakeholder har en aktiv √∂verklagan. <strong>N√§r:</strong> Stakeholder f√∂rs√∂ker skicka in en ny √∂verklagan samtidigt (t.ex. via olika sessioner eller systemfel). <strong>D√•:</strong> Systemet hanterar concurrent requests. <strong>Assert:</strong> Endast en √∂verklagan kan vara aktiv √•t g√•ngen, systemet blockerar eller avvisar concurrent f√∂rs√∂k, tydligt felmeddelande visas, processen forts√§tter korrekt med en aktiv √∂verklagan.</td>
        <td>‚úÖ Planerad</td>
      </tr>
    
        </tbody>
      </table>

      <h3>UI Flow per Scenario</h3>
      <p class="muted">Detaljerade steg f√∂r varje scenario. Expandera f√∂r att se UI Flow.</p>
      
      <details style="margin: 12px 0; padding: 12px; border: 1px solid var(--border); border-radius: 6px;">
        <summary style="cursor: pointer; font-weight: 600; color: var(--primary);">
          <strong>S1: Normalfl√∂de ‚Äì √∂verklagan accepterad</strong> (Klicka f√∂r att expandera)
        </summary>
        <table style="margin-top: 12px;">
          <thead>
            <tr>
              <th>Steg</th>
              <th>Page ID</th>
              <th>Action</th>
              <th>Locator ID</th>
              <th>Data Profile</th>
              <th>Kommentar</th>
            </tr>
          </thead>
          <tbody>
            
        <tr>
          <td>1</td>
          <td>appeal-start</td>
          <td>navigate</td>
          <td>nav-appeal</td>
          <td>appeal-accepted</td>
          <td>Appeal-processen startar n√§r ans√∂kan har blivit automatiskt avvisad. Navigera till Appeal-sidan.</td>
        </tr>
      
        <tr>
          <td>2</td>
          <td>submit-appeal</td>
          <td>navigate</td>
          <td>nav-submit-appeal</td>
          <td>appeal-accepted</td>
          <td>Navigera till "Submit appeal" user task (Stakeholder lane)</td>
        </tr>
      
        <tr>
          <td>3</td>
          <td>submit-appeal</td>
          <td>fill</td>
          <td>input-appeal-reason</td>
          <td>appeal-accepted</td>
          <td>Fyll i motivering f√∂r √∂verklagan (t.ex. ny information, felaktig bed√∂mning)</td>
        </tr>
      
        <tr>
          <td>4</td>
          <td>submit-appeal</td>
          <td>fill</td>
          <td>input-appeal-documentation</td>
          <td>appeal-accepted</td>
          <td>Ladda upp kompletterande dokumentation (t.ex. nya l√∂nespecifikationer, f√∂rklarande brev)</td>
        </tr>
      
        <tr>
          <td>5</td>
          <td>submit-appeal</td>
          <td>click</td>
          <td>btn-submit-appeal</td>
          <td>appeal-accepted</td>
          <td>Skicka in √∂verklagan</td>
        </tr>
      
        <tr>
          <td>6</td>
          <td>screen-appeal</td>
          <td>verify</td>
          <td>task-assigned-caseworker</td>
          <td>appeal-accepted</td>
          <td>Verifiera att "Screen appeal" user task √§r tilldelad till Caseworker (handl√§ggare)</td>
        </tr>
      
        <tr>
          <td>7</td>
          <td>screen-appeal</td>
          <td>navigate</td>
          <td>nav-screen-appeal</td>
          <td>appeal-accepted</td>
          <td>Caseworker navigerar till "Screen appeal" user task (Caseworker lane)</td>
        </tr>
      
        <tr>
          <td>8</td>
          <td>screen-appeal</td>
          <td>verify</td>
          <td>summary-appeal-content</td>
          <td>appeal-accepted</td>
          <td>Verifiera att Caseworker ser √∂verklagansmotivering och dokumentation</td>
        </tr>
      
        <tr>
          <td>9</td>
          <td>screen-appeal</td>
          <td>click</td>
          <td>btn-accept-appeal</td>
          <td>appeal-accepted</td>
          <td>Caseworker accepterar √∂verklagan</td>
        </tr>
      
        <tr>
          <td>10</td>
          <td>screening-accepted</td>
          <td>verify</td>
          <td>gateway-screening-accepted-yes</td>
          <td>appeal-accepted</td>
          <td>Screening accepted gateway avg√∂r att √∂verklagan accepteras (Yes). Processen g√•r till end event.</td>
        </tr>
      
        <tr>
          <td>11</td>
          <td>appeal-completed</td>
          <td>verify</td>
          <td>success-message-appeal-accepted</td>
          <td>appeal-accepted</td>
          <td>Verifiera att processen avslutas och ans√∂kan g√•r vidare till manuell kreditevaluering (manual-credit-evaluation).</td>
        </tr>
      
          </tbody>
        </table>
      </details>
    
      <details style="margin: 12px 0; padding: 12px; border: 1px solid var(--border); border-radius: 6px;">
        <summary style="cursor: pointer; font-weight: 600; color: var(--primary);">
          <strong>S2: √ñverklagan avvisad ‚Äì kund kan skicka ny √∂verklagan</strong> (Klicka f√∂r att expandera)
        </summary>
        <table style="margin-top: 12px;">
          <thead>
            <tr>
              <th>Steg</th>
              <th>Page ID</th>
              <th>Action</th>
              <th>Locator ID</th>
              <th>Data Profile</th>
              <th>Kommentar</th>
            </tr>
          </thead>
          <tbody>
            
        <tr>
          <td>1-5</td>
          <td>appeal-start till submit-appeal</td>
          <td>navigate, fill, click</td>
          <td>nav-appeal, input-appeal-reason, btn-submit-appeal</td>
          <td>appeal-rejected</td>
          <td>Samma som S1 steg 1-5: Starta process, skicka in √∂verklagan</td>
        </tr>
      
        <tr>
          <td>6-8</td>
          <td>screen-appeal</td>
          <td>verify, navigate</td>
          <td>task-assigned-caseworker, nav-screen-appeal, summary-appeal-content</td>
          <td>appeal-rejected</td>
          <td>Caseworker navigerar till Screen appeal och ser √∂verklagansinneh√•ll</td>
        </tr>
      
        <tr>
          <td>9</td>
          <td>screen-appeal</td>
          <td>click</td>
          <td>btn-reject-appeal</td>
          <td>appeal-rejected</td>
          <td>Caseworker avvisar √∂verklagan (t.ex. otillr√§cklig motivering, saknad dokumentation)</td>
        </tr>
      
        <tr>
          <td>10</td>
          <td>screening-accepted</td>
          <td>verify</td>
          <td>gateway-screening-accepted-no</td>
          <td>appeal-rejected</td>
          <td>Screening accepted gateway avg√∂r att √∂verklagan avvisas (No). Processen loopar tillbaka.</td>
        </tr>
      
        <tr>
          <td>11</td>
          <td>appeal-loop</td>
          <td>verify</td>
          <td>loop-back-to-submit</td>
          <td>appeal-rejected</td>
          <td>Verifiera att processen loopar tillbaka till "Submit appeal" s√• kunden kan skicka in en ny √∂verklagan (max antal g√•nger enligt policy).</td>
        </tr>
      
          </tbody>
        </table>
      </details>
    
      <details style="margin: 12px 0; padding: 12px; border: 1px solid var(--border); border-radius: 6px;">
        <summary style="cursor: pointer; font-weight: 600; color: var(--primary);">
          <strong>S3: Timeout (30 dagar) ‚Äì ans√∂kan avvisas automatiskt</strong> (Klicka f√∂r att expandera)
        </summary>
        <table style="margin-top: 12px;">
          <thead>
            <tr>
              <th>Steg</th>
              <th>Page ID</th>
              <th>Action</th>
              <th>Locator ID</th>
              <th>Data Profile</th>
              <th>Kommentar</th>
            </tr>
          </thead>
          <tbody>
            
        <tr>
          <td>1</td>
          <td>appeal-start</td>
          <td>navigate</td>
          <td>nav-appeal</td>
          <td>appeal-timeout</td>
          <td>Appeal-processen startar n√§r ans√∂kan har blivit automatiskt avvisad</td>
        </tr>
      
        <tr>
          <td>2</td>
          <td>submit-appeal</td>
          <td>navigate</td>
          <td>nav-submit-appeal</td>
          <td>appeal-timeout</td>
          <td>Navigera till "Submit appeal" user task. Kund startar men slutf√∂r inte √∂verklagan.</td>
        </tr>
      
        <tr>
          <td>3</td>
          <td>submit-appeal</td>
          <td>verify</td>
          <td>timeout-timer-started</td>
          <td>appeal-timeout</td>
          <td>Verifiera att timeout-timer startar (30 dagar P30D) n√§r "Submit appeal" task skapas</td>
        </tr>
      
        <tr>
          <td>4</td>
          <td>submit-appeal</td>
          <td>wait</td>
          <td>timeout-30-days</td>
          <td>appeal-timeout</td>
          <td>V√§nta 30 dagar utan att kunden skickar in √∂verklagan (eller simulera timeout i testmilj√∂)</td>
        </tr>
      
        <tr>
          <td>5</td>
          <td>event-appeal-timeout</td>
          <td>verify</td>
          <td>timeout-event-triggered</td>
          <td>appeal-timeout</td>
          <td>Verifiera att timeout event "appeal-timeout" triggas efter 30 dagar</td>
        </tr>
      
        <tr>
          <td>6</td>
          <td>appeal-timeout</td>
          <td>verify</td>
          <td>escalation-appeal-timeout</td>
          <td>appeal-timeout</td>
          <td>Verifiera att escalation "appeal-timeout" triggas</td>
        </tr>
      
        <tr>
          <td>7</td>
          <td>application-automatically-rejected</td>
          <td>verify</td>
          <td>rejection-message-timeout</td>
          <td>appeal-timeout</td>
          <td>Verifiera att ans√∂kan avvisas automatiskt (application-automatically-rejected) via escalation. Processen avslutas.</td>
        </tr>
      
          </tbody>
        </table>
      </details>
    
      <details style="margin: 12px 0; padding: 12px; border: 1px solid var(--border); border-radius: 6px;">
        <summary style="cursor: pointer; font-weight: 600; color: var(--primary);">
          <strong>S4: Ofullst√§ndig √∂verklagan ‚Äì komplettering kr√§vs</strong> (Klicka f√∂r att expandera)
        </summary>
        <table style="margin-top: 12px;">
          <thead>
            <tr>
              <th>Steg</th>
              <th>Page ID</th>
              <th>Action</th>
              <th>Locator ID</th>
              <th>Data Profile</th>
              <th>Kommentar</th>
            </tr>
          </thead>
          <tbody>
            
        <tr>
          <td>1-2</td>
          <td>appeal-start, submit-appeal</td>
          <td>navigate</td>
          <td>nav-appeal, nav-submit-appeal</td>
          <td>appeal-incomplete</td>
          <td>Starta process, navigera till Submit appeal</td>
        </tr>
      
        <tr>
          <td>3</td>
          <td>submit-appeal</td>
          <td>fill</td>
          <td>input-appeal-reason</td>
          <td>appeal-incomplete</td>
          <td>Fyll i motivering, men l√§mna dokumentation tomt eller ofullst√§ndig</td>
        </tr>
      
        <tr>
          <td>4</td>
          <td>submit-appeal</td>
          <td>click</td>
          <td>btn-submit-appeal</td>
          <td>appeal-incomplete</td>
          <td>F√∂rs√∂k skicka in ofullst√§ndig √∂verklagan</td>
        </tr>
      
        <tr>
          <td>5</td>
          <td>submit-appeal</td>
          <td>verify</td>
          <td>validation-error-documentation</td>
          <td>appeal-incomplete</td>
          <td>Verifiera att valideringsfel visas f√∂r saknad eller ofullst√§ndig dokumentation</td>
        </tr>
      
        <tr>
          <td>6</td>
          <td>submit-appeal</td>
          <td>fill</td>
          <td>input-appeal-documentation</td>
          <td>appeal-incomplete</td>
          <td>Komplettera med dokumentation</td>
        </tr>
      
        <tr>
          <td>7</td>
          <td>submit-appeal</td>
          <td>click</td>
          <td>btn-submit-appeal</td>
          <td>appeal-incomplete</td>
          <td>Skicka in kompletterad √∂verklagan</td>
        </tr>
      
        <tr>
          <td>8-11</td>
          <td>screen-appeal till appeal-completed</td>
          <td>navigate, verify, click</td>
          <td>nav-screen-appeal, btn-accept-appeal, success-message-appeal-accepted</td>
          <td>appeal-incomplete</td>
          <td>Forts√§tt med granskning och godk√§nnande (samma som S1 steg 6-11)</td>
        </tr>
      
          </tbody>
        </table>
      </details>
    

      <h3>Testdata-referenser</h3>
      <p class="muted">Testdata-profilerna som anv√§nds i scenarion. Definiera faktiska testdata i separat testdata-katalog.</p>
      <ul>
        
      <li><strong>appeal-accepted</strong>: √ñverklagan som accepteras - v√§lgrundad motivering (t.ex. ny information, felaktig bed√∂mning), kompletterande dokumentation (nya l√∂nespecifikationer, f√∂rklarande brev), Caseworker godk√§nner</li>
    
      <li><strong>appeal-rejected</strong>: √ñverklagan som avvisas - otillr√§cklig motivering, saknad eller ofullst√§ndig dokumentation, Caseworker avvisar. Processen loopar tillbaka f√∂r ny √∂verklagan.</li>
    
      <li><strong>appeal-timeout</strong>: √ñverklagan som timeout - kund startar men slutf√∂r inte √∂verklagan inom 30 dagar. Timeout event triggas och ans√∂kan avvisas automatiskt.</li>
    
      <li><strong>appeal-incomplete</strong>: Ofullst√§ndig √∂verklagan - saknar viktiga f√§lt som dokumentation eller motivering. Systemet kr√§ver komplettering innan √∂verklagan kan skickas in.</li>
    
      </ul>

      <h3>Implementation Mapping</h3>
      <p class="muted">Mappning mellan BPMN-aktiviteter och faktisk implementation (routes, endpoints, locators).</p>
      <table>
        <thead>
          <tr>
            <th>BPMN Aktivitet</th>
            <th>Type</th>
            <th>Route/Endpoint</th>
            <th>Method</th>
            <th>Base URL</th>
            <th>Kommentar</th>
          </tr>
        </thead>
        <tbody>
          
      <tr>
        <td>Appeal (start)</td>
        <td>UI</td>
        <td>/mortgage/appeal</td>
        <td>GET</td>
        <td>https://portal.sbab.se</td>
        <td>Startpunkt f√∂r Appeal-processen. Anropas fr√•n Mortgage huvudprocess n√§r ans√∂kan har blivit automatiskt avvisad.</td>
      </tr>
    
      <tr>
        <td>Submit appeal</td>
        <td>UI</td>
        <td>/mortgage/appeal/submit<br>/api/appeal/submit</td>
        <td>GET/POST (UI)<br>POST (API)</td>
        <td>https://portal.sbab.se<br>https://api.sbab.se</td>
        <td>User task (Stakeholder lane) d√§r kunden skickar in √∂verklagan. Input: Motivering, Dokumentation. Timeout: 30 dagar (P30D).</td>
      </tr>
    
      <tr>
        <td>Screen appeal</td>
        <td>UI</td>
        <td>/mortgage/appeal/screen<br>/api/appeal/screen</td>
        <td>GET/POST (UI)<br>POST (API)</td>
        <td>https://portal.sbab.se<br>https://api.sbab.se</td>
        <td>User task (Caseworker lane) d√§r handl√§ggare granskar √∂verklagan. Caseworker kan acceptera eller avvisa √∂verklagan.</td>
      </tr>
    
      <tr>
        <td>Screening accepted gateway</td>
        <td>System</td>
        <td>Internal gateway logic</td>
        <td>-</td>
        <td>-</td>
        <td>Exclusive gateway som avg√∂r om √∂verklagan accepteras eller avvisas baserat p√• Caseworker-beslut. Om Yes ‚Üí End event (g√•r vidare till manual-credit-evaluation). Om No ‚Üí Loop tillbaka till Submit appeal.</td>
      </tr>
    
      <tr>
        <td>Appeal timeout (event)</td>
        <td>System</td>
        <td>Internal timer event</td>
        <td>-</td>
        <td>-</td>
        <td>Timer event som triggas efter 30 dagar (P30D) om "Submit appeal" task inte slutf√∂rts. Triggar escalation "appeal-timeout".</td>
      </tr>
    
      <tr>
        <td>Appeal timeout (escalation)</td>
        <td>System</td>
        <td>Internal escalation event</td>
        <td>-</td>
        <td>-</td>
        <td>Escalation "appeal-timeout" triggas n√§r timeout event intr√§ffar. Ans√∂kan avvisas automatiskt (application-automatically-rejected). Processen avslutas.</td>
      </tr>
    
        </tbody>
      </table>
        </div>
      </details>
    </section>
    <section class="doc-section">
      <details>
        <summary>Effekt</summary>
        <div class="section-content">
<p class="muted">F√∂rv√§ntad aff√§rseffekt som uppn√•s med feature goalet.</p>
      <h3>F√∂rb√§ttrad kundupplevelse</h3>
      <p>Appeal-processen ger kunder m√∂jlighet att √∂verklaga automatiskt avvisade ans√∂kningar, vilket f√∂rb√§ttrar kundupplevelsen genom att ge kunder en andra chans. Kunder kan skicka in motivering och kompletterande dokumentation, vilket kan leda till att ans√∂kningar som initialt avvisades automatiskt √§nd√• kan godk√§nnas efter manuell granskning.</p>
      
      <h3>Minskad risk f√∂r felaktiga avvisningar</h3>
      <p>Genom att l√•ta kunder √∂verklaga automatiskt avvisade ans√∂kningar minskar risken f√∂r att legitima ans√∂kningar avvisas felaktigt. Handl√§ggare kan granska √∂verklaganden och acceptera ans√∂kningar som borde ha godk√§nts fr√•n b√∂rjan, vilket kan √∂ka antalet godk√§nda ans√∂kningar med upp till 5-10%.</p>
      
      <h3>F√∂rb√§ttrad processkvalitet</h3>
      <p>Loop-mekanismen som m√∂jligg√∂r flera √∂verklagansf√∂rs√∂k s√§kerst√§ller att kunder har m√∂jlighet att komplettera sin √∂verklagan om den f√∂rsta avvisas. Detta kan √∂ka kvaliteten p√• √∂verklaganden och minska behovet av kundservice-kontakter med upp till 20-30%.</p>
      
      <h3>Automatiserad timeout-hantering</h3>
      <p>Timeout-mekanismen (30 dagar) s√§kerst√§ller att processen inte h√§nger kvar i on√∂dan. Om kunden inte skickar in √∂verklagan inom tidsgr√§nsen avvisas ans√∂kan automatiskt, vilket minskar handl√§ggningstid och f√∂rb√§ttrar processhastigheten.</p>
        </div>
      </details>
    </section>

    <section class="doc-section">
      <details>
        <summary>User stories</summary>
        <div class="section-content">
<p class="muted">Relevanta och realistiska user stories som kan kopplas till feature goalet.</p>
      
      <h3>Kundperspektiv</h3>
      <ul>
        <li><strong>Som kund</strong> vill jag kunna √∂verklaga en automatiskt avvisad bol√•neans√∂kan via "Submit appeal" user task (submit-appeal) i Stakeholder-portalen <strong>s√• att</strong> jag kan f√• en andra chans att f√• min ans√∂kan godk√§nd med kompletterande information. <em>Acceptanskriterier: Systemet ska till√•ta kunder att skicka in √∂verklagan via "Submit appeal" user task (submit-appeal) i Stakeholder lane, och √∂verklagan ska kr√§va motivering och kompletterande dokumentation innan den kan skickas in.</em></li>
        <li><strong>Som kund</strong> vill jag kunna skicka in motivering och dokumentation f√∂r min √∂verklagan via "Submit appeal" user task (submit-appeal) <strong>s√• att</strong> handl√§ggaren kan f√• en fullst√§ndig bild av min situation. <em>Acceptanskriterier: "Submit appeal" user task (submit-appeal) ska kr√§va att kunder fyller i motivering och laddar upp kompletterande dokumentation, och systemet ska validera att √∂verklagan √§r komplett innan den kan skickas in.</em></li>
        <li><strong>Som kund</strong> vill jag f√• m√∂jlighet att skicka in en ny √∂verklagan om min f√∂rsta √∂verklagan avvisas via loop-gateway (Gateway_1v59ktc) <strong>s√• att</strong> jag kan komplettera med ytterligare information. <em>Acceptanskriterier: N√§r "Screening accepted?" gateway (screening-accepted) avg√∂r No, ska processen loopa tillbaka via Gateway_1v59ktc till "Submit appeal" user task (submit-appeal), s√• kunden kan skicka in en ny √∂verklagan (max antal g√•nger enligt policy).</em></li>
        <li><strong>Som kund</strong> vill jag f√• tydlig feedback om varf√∂r min √∂verklagan avvisades n√§r "Screening accepted?" gateway (screening-accepted) avg√∂r No <strong>s√• att</strong> jag kan f√∂rb√§ttra min n√§sta √∂verklagan. <em>Acceptanskriterier: N√§r handl√§ggare avvisar √∂verklagan via "Screen appeal" user task (screen-appeal), ska systemet visa tydlig feedback om varf√∂r √∂verklagan avvisades, inklusive avvisningsmotivering fr√•n handl√§ggaren.</em></li>
        <li><strong>Som kund</strong> vill jag f√• en tydlig tidsgr√§ns (30 dagar P30D) f√∂r n√§r jag m√•ste skicka in min √∂verklagan via "Submit appeal" user task (submit-appeal) <strong>s√• att</strong> jag vet hur l√•ng tid jag har p√• mig. <em>Acceptanskriterier: "Submit appeal" user task (submit-appeal) ska ha boundary event "event-appeal-timeout" (Timer: P30D) som triggar end event "appeal-timeout" med escalation "appeal-timeout" (Escalation_34epnhh) om √∂verklagan inte skickas in inom 30 dagar.</em></li>
      </ul>
      
      <h3>Handl√§ggarperspektiv</h3>
      <ul>
        <li><strong>Som handl√§ggare</strong> vill jag kunna granska √∂verklaganden fr√•n kunder via "Screen appeal" user task (screen-appeal) i Caseworker-systemet <strong>s√• att</strong> jag kan acceptera ans√∂kningar som borde ha godk√§nts fr√•n b√∂rjan. <em>Acceptanskriterier: Systemet ska tilldela "Screen appeal" user task (screen-appeal) till handl√§ggare i Caseworker lane, och handl√§ggare ska kunna se kundens motivering och kompletterande dokumentation f√∂r att fatta ett v√§lgrundat beslut.</em></li>
        <li><strong>Som handl√§ggare</strong> vill jag se kundens motivering och kompletterande dokumentation i "Screen appeal" user task (screen-appeal) <strong>s√• att</strong> jag kan fatta ett v√§lgrundat beslut om √∂verklagan. <em>Acceptanskriterier: "Screen appeal" user task (screen-appeal) ska visa handl√§ggaren kundens motivering och kompletterande dokumentation, samt information om varf√∂r ans√∂kan initialt avvisades, s√• handl√§ggaren kan bed√∂ma om √∂verklagan √§r relevant.</em></li>
        <li><strong>Som handl√§ggare</strong> vill jag kunna acceptera eller avvisa √∂verklaganden via "Screening accepted?" gateway (screening-accepted) <strong>s√• att</strong> processen kan forts√§tta p√• r√§tt s√§tt. <em>Acceptanskriterier: Handl√§ggare ska kunna acceptera eller avvisa √∂verklagan via "Screen appeal" user task (screen-appeal), och "Screening accepted?" gateway (screening-accepted) ska avg√∂ra om √∂verklagan accepteras (Yes ‚Üí Event_1pzbohb, g√•r vidare till manuell kreditevaluering) eller avvisas (No ‚Üí Gateway_1v59ktc, loopar tillbaka).</em></li>
        <li><strong>Som handl√§ggare</strong> vill jag f√• tydlig information om varf√∂r ans√∂kan initialt avvisades i "Screen appeal" user task (screen-appeal) <strong>s√• att</strong> jag kan bed√∂ma om √∂verklagan √§r relevant. <em>Acceptanskriterier: "Screen appeal" user task (screen-appeal) ska visa handl√§ggaren tydlig information om varf√∂r ans√∂kan initialt avvisades, s√• handl√§ggaren kan bed√∂ma om √∂verklagan √§r relevant och fatta ett v√§lgrundat beslut.</em></li>
      </ul>
      
      <h3>Systemperspektiv</h3>
      <ul>
        <li><strong>Som system</strong> vill jag automatiskt timeout √∂verklaganden som inte skickas in inom 30 dagar (P30D) via boundary event "event-appeal-timeout" p√• "Submit appeal" user task (submit-appeal) <strong>s√• att</strong> processen inte h√§nger kvar i on√∂dan. <em>Acceptanskriterier: Boundary event "event-appeal-timeout" (Timer: P30D) p√• "Submit appeal" user task (submit-appeal) ska trigga end event "appeal-timeout" med escalation "appeal-timeout" (Escalation_34epnhh) om √∂verklagan inte skickas in inom 30 dagar, och ans√∂kan ska avvisas automatiskt.</em></li>
        <li><strong>Som system</strong> vill jag hantera loop-mekanismen n√§r √∂verklaganden avvisas via loop-gateway (Gateway_1v59ktc) <strong>s√• att</strong> kunder kan skicka in nya √∂verklaganden (max antal g√•nger enligt policy). <em>Acceptanskriterier: N√§r "Screening accepted?" gateway (screening-accepted) avg√∂r No, ska processen loopa tillbaka via Gateway_1v59ktc till "Submit appeal" user task (submit-appeal), och systemet ska begr√§nsa antalet loop-iterationer enligt policy (max antal √∂verklagansf√∂rs√∂k).</em></li>
        <li><strong>Som system</strong> vill jag hantera timeout b√•de p√• "Submit appeal" user task (submit-appeal) via boundary event "event-appeal-timeout" och p√• Appeal call activity i mortgage.bpmn via boundary event "event-appeal-timeout" <strong>s√• att</strong> processen avslutas korrekt oavsett var timeout intr√§ffar. <em>Acceptanskriterier: Systemet ska hantera timeout b√•de i Appeal-processen (boundary event "event-appeal-timeout" p√• submit-appeal ‚Üí end event "appeal-timeout" med escalation "appeal-timeout") och p√• Appeal call activity i mortgage.bpmn (boundary event "event-appeal-timeout" ‚Üí escalation "appeal-timeout" ‚Üí "application-automatically-rejected" end event).</em></li>
      </ul>
        </div>
      </details>
    </section>

    <section class="doc-section">
      <details>
        <summary>Acceptanskriterier</summary>
        <div class="section-content">
<p class="muted">Relevanta och realistiska acceptanskriterier som kan kopplas till feature goalet.</p>
      
      <h3>Kundfunktionalitet</h3>
      <ul>
        <li>Systemet ska till√•ta kunder att skicka in √∂verklagan via "Submit appeal" user task i Stakeholder-portalen</li>
        <li>Systemet ska kr√§va att kunder fyller i motivering och laddar upp kompletterande dokumentation innan √∂verklagan kan skickas in</li>
        <li>Systemet ska validera att √∂verklagan √§r komplett innan den kan skickas in (t.ex. motivering och dokumentation m√•ste finnas)</li>
        <li>Systemet ska visa tydlig feedback om varf√∂r √∂verklagan avvisades om den avvisas</li>
        <li>Systemet ska till√•ta kunder att skicka in en ny √∂verklagan om den f√∂rsta avvisas (max antal g√•nger enligt policy)</li>
      </ul>
      
      <h3>Handl√§ggarfunktionalitet</h3>
      <ul>
        <li>Systemet ska tilldela "Screen appeal" user task till handl√§ggare i Caseworker-systemet</li>
        <li>Systemet ska visa handl√§ggaren kundens motivering och kompletterande dokumentation</li>
        <li>Systemet ska till√•ta handl√§ggare att acceptera eller avvisa √∂verklagan via "Screening accepted?" gateway</li>
        <li>Systemet ska visa handl√§ggaren information om varf√∂r ans√∂kan initialt avvisades</li>
      </ul>
      
      <h3>Timeout-hantering</h3>
      <ul>
        <li>Systemet ska automatiskt timeout "Submit appeal" task om den inte slutf√∂rs inom 30 dagar (P30D)</li>
        <li>Systemet ska trigga "Appeal timeout" end event med escalation "appeal-timeout" n√§r timeout intr√§ffar i Appeal-processen</li>
        <li>Systemet ska automatiskt timeout Appeal call activity om hela processen timeout (boundary event p√• call activity)</li>
        <li>Systemet ska trigga "Automatically rejected" end event n√§r Appeal call activity timeout</li>
      </ul>
      
      <h3>Loop-mekanism</h3>
      <ul>
        <li>Systemet ska loopa tillbaka till "Submit appeal" n√§r √∂verklagan avvisas via loop-gateway</li>
        <li>Systemet ska begr√§nsa antalet loop-iterationer enligt policy (max antal √∂verklagansf√∂rs√∂k)</li>
        <li>Systemet ska hantera loop-mekanismen korrekt s√• att kunden kan skicka in nya √∂verklaganden</li>
      </ul>
      
      <h3>Integration med huvudprocessen</h3>
      <ul>
        <li>Systemet ska anropa Appeal n√§r en ans√∂kan har blivit automatiskt avvisad via "Automatically rejected?" gateway</li>
        <li>Systemet ska anropa Appeal n√§r manuell kreditevaluering triggar "credit-evaluation-automatically-rejected" escalation (loop-mekanism)</li>
        <li>Systemet ska g√• vidare till manuell kreditevaluering n√§r √∂verklagan accepteras via gateway som samlar fl√∂den</li>
        <li>Systemet ska hantera "credit-evaluation-automatically-rejected" escalation fr√•n manuell kreditevaluering som kan trigga loop tillbaka till Appeal</li>
      </ul>

      <h3>Tekniska krav</h3>
      <ul>
        <li><strong>Timeout:</strong> User tasks ("Submit appeal", "Screen appeal") ska ha timeout p√• 30 dagar. Timer event "appeal-timeout" ska triggas efter 30 dagar</li>
        <li><strong>Retry:</strong> Systemet ska hantera retry f√∂r integration med huvudprocessen vid tekniska fel</li>
        <li><strong>Error codes:</strong> Systemet ska returnera specifika error codes: APPEAL_TIMEOUT (f√∂r timeout), APPEAL_REJECTED (f√∂r avvisad √∂verklagan), APPEAL_SERVICE_ERROR (f√∂r service-fel)</li>
        <li><strong>Logging:</strong> Alla √∂verklaganden, screeningar och eskaleringar ska loggas med √∂verklagans-ID, anv√§ndar-ID, tidsst√§mplar och resultat f√∂r sp√•rbarhet</li>
      </ul>

      <h3>UI/UX-krav</h3>
      <ul>
        <li><strong>Kund-vyer:</strong> "Submit appeal" user task ska visa tydlig, strukturerad information om √∂verklagandet med separata sektioner f√∂r motivering och dokumentation</li>
        <li><strong>Handl√§ggar-vyer:</strong> "Screen appeal" user task ska visa tydlig information om √∂verklagandet, motivering och dokumentation f√∂r handl√§ggaren</li>
        <li><strong>Statusindikatorer:</strong> Systemet ska visa tydlig status f√∂r √∂verklagandet (v√§ntar p√• screening, accepterad, avvisad, timeout) med visuella indikatorer</li>
      </ul>

      <h3>Skalbarhet och prestanda</h3>
      <ul>
        <li><strong>Parallellisering:</strong> Systemet ska kunna hantera flera √∂verklaganden parallellt utan prestandaf√∂rs√§mring</li>
        <li><strong>Load balancing:</strong> Systemet ska kunna hantera minst 20 √∂verklaganden per minut</li>
      </ul>

      <h3>S√§kerhet och compliance</h3>
      <ul>
        <li><strong>Dataskydd:</strong> All k√§nslig √∂verklagansinformation ska krypteras i vila och under √∂verf√∂ring (TLS 1.3). √Ötkomst till √∂verklagansdata ska loggas f√∂r audit trail</li>
        <li><strong>GDPR-efterlevnad:</strong> Alla √∂verklaganden ska inneh√•lla sp√•rbarhet f√∂r n√§r √∂verklagan skickades, vem som screenade och resultatet, f√∂r att uppfylla GDPR-krav</li>
        <li><strong>Audit trail:</strong> Alla √∂verklaganden och screeningar ska loggas med √∂verklagans-ID, anv√§ndar-ID, tidsst√§mplar och resultat f√∂r fullst√§ndig sp√•rbarhet</li>
      </ul>
        </div>
      </details>
    </section>
      </body>
</html>
