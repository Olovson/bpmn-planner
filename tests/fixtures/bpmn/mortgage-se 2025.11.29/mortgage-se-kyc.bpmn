<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:bioc="http://bpmn.io/schema/bpmn/biocolor/1.0" xmlns:color="http://www.omg.org/spec/BPMN/non-normative/color/1.0" xmlns:modeler="http://camunda.org/schema/modeler/1.0" id="Definitions_1dzbrd5" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="5.40.0" modeler:executionPlatform="Camunda Platform" modeler:executionPlatformVersion="7.20.0">
  <bpmn:collaboration id="Collaboration_0j7h3t1">
    <bpmn:participant id="Participant_1mlz5lf" name="KYC" processRef="mortgage-se-kyc" />
  </bpmn:collaboration>
  <bpmn:process id="mortgage-se-kyc" isExecutable="true" camunda:historyTimeToLive="180">
    <bpmn:laneSet id="LaneSet_0ol2wcn">
      <bpmn:lane id="Lane_0awhta9" name="Compliance">
        <bpmn:flowNodeRef>review-kyc</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>kyc-approved</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_0u9r5gv</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Lane_1uuvqfz" name="Stakeholder">
        <bpmn:flowNodeRef>start-event</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>submit-self-declaration</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Lane_19341zf" name="System">
        <bpmn:flowNodeRef>fetch-aml-kyc-risk</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>fetch-screening-and-sanctions</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>assess-kyc-aml</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>needs-review</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_1lmj6ts</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>process-end-event</bpmn:flowNodeRef>
      </bpmn:lane>
    </bpmn:laneSet>
    <bpmn:sequenceFlow id="Flow_1cbhztn" sourceRef="start-event" targetRef="submit-self-declaration" />
    <bpmn:sequenceFlow id="Flow_1t53lfh" sourceRef="submit-self-declaration" targetRef="fetch-aml-kyc-risk" />
    <bpmn:sequenceFlow id="Flow_03r9kps" sourceRef="fetch-aml-kyc-risk" targetRef="fetch-screening-and-sanctions" />
    <bpmn:sequenceFlow id="Flow_1l72610" sourceRef="fetch-screening-and-sanctions" targetRef="assess-kyc-aml" />
    <bpmn:sequenceFlow id="Flow_1myqhzo" sourceRef="assess-kyc-aml" targetRef="needs-review" />
    <bpmn:sequenceFlow id="needs-review-no" name="No" sourceRef="needs-review" targetRef="Gateway_1lmj6ts" />
    <bpmn:sequenceFlow id="needs-review-yes" name="Yes" sourceRef="needs-review" targetRef="review-kyc" />
    <bpmn:sequenceFlow id="Flow_09gy5v3" sourceRef="review-kyc" targetRef="kyc-approved" />
    <bpmn:sequenceFlow id="Flow_1bobt9r" name="Yes" sourceRef="kyc-approved" targetRef="Gateway_1lmj6ts" />
    <bpmn:sequenceFlow id="kyc-approved-no" name="No" sourceRef="kyc-approved" targetRef="Event_0u9r5gv" />
    <bpmn:sequenceFlow id="Flow_0kwmijy" sourceRef="Gateway_1lmj6ts" targetRef="process-end-event" />
    <bpmn:userTask id="review-kyc" name="Review KYC">
      <bpmn:incoming>needs-review-yes</bpmn:incoming>
      <bpmn:outgoing>Flow_09gy5v3</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="kyc-approved" name="Approved?">
      <bpmn:incoming>Flow_09gy5v3</bpmn:incoming>
      <bpmn:outgoing>Flow_1bobt9r</bpmn:outgoing>
      <bpmn:outgoing>kyc-approved-no</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:endEvent id="Event_0u9r5gv" name="Rejected">
      <bpmn:incoming>kyc-approved-no</bpmn:incoming>
      <bpmn:escalationEventDefinition id="EscalationEventDefinition_1h97xtt" escalationRef="Escalation_1alasp1" />
    </bpmn:endEvent>
    <bpmn:startEvent id="start-event">
      <bpmn:documentation>
## Start KYC Process

Initiates the Know Your Customer (KYC) compliance and risk assessment process.
- Input: Customer identification and application data
- Trigger: External process or application start
- Outcome: Proceeds to stakeholder self-declaration collection
      </bpmn:documentation>
      <bpmn:outgoing>Flow_1cbhztn</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:userTask id="submit-self-declaration" name="Submit self declaration">
      <bpmn:documentation>
## Submit Self Declaration

Collects customer self-declaration information for KYC compliance.
- Input: KYC questionnaire and identity verification requirements
- Performer: Stakeholder/Customer
- Outcome: Completed self-declaration data for risk assessment
      </bpmn:documentation>
      <bpmn:incoming>Flow_1cbhztn</bpmn:incoming>
      <bpmn:outgoing>Flow_1t53lfh</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="fetch-aml-kyc-risk" name="Fetch AML / KYC risk score">
      <bpmn:documentation>
## Fetch AML/KYC Risk Score

Retrieves Anti-Money Laundering and KYC risk scores from external services.
- Input: Customer identification and personal information
- System integration: External AML/KYC risk assessment providers
- Outcome: Risk score data for compliance evaluation
      </bpmn:documentation>
      <bpmn:incoming>Flow_1t53lfh</bpmn:incoming>
      <bpmn:outgoing>Flow_03r9kps</bpmn:outgoing>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_0ww3okt">
        <bpmn:targetRef>DataStoreReference_0lhn59t</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
    </bpmn:serviceTask>
    <bpmn:dataStoreReference id="DataStoreReference_0lhn59t" name="Internal aml service" />
    <bpmn:serviceTask id="fetch-screening-and-sanctions" name="Fetch sanctions and PEP">
      <bpmn:documentation>
## Fetch Sanctions and PEP Screening

Retrieves sanctions and Politically Exposed Person (PEP) screening results.
- Input: Customer identity information for sanctions screening
- System integration: Sanctions databases and PEP registries
- Outcome: Sanctions screening results and PEP status determination
      </bpmn:documentation>
      <bpmn:incoming>Flow_03r9kps</bpmn:incoming>
      <bpmn:outgoing>Flow_1l72610</bpmn:outgoing>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_0zalj5y">
        <bpmn:targetRef>DataStoreReference_05ypske</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
    </bpmn:serviceTask>
    <bpmn:businessRuleTask id="assess-kyc-aml" name="Evaluate KYC/AML">
      <bpmn:documentation>
## Assess KYC/AML Compliance

Evaluates customer KYC/AML compliance using business rules and risk scores.
- Input: Self-declaration data, AML/KYC risk scores, and sanctions screening
- Business rules: table-bisnode-credit, table-own-experience
- Outcome: KYC/AML compliance assessment and risk determination
      </bpmn:documentation>
      <bpmn:incoming>Flow_1l72610</bpmn:incoming>
      <bpmn:outgoing>Flow_1myqhzo</bpmn:outgoing>
    </bpmn:businessRuleTask>
    <bpmn:dataStoreReference id="DataStoreReference_05ypske" name="Sanction screening provider" />
    <bpmn:exclusiveGateway id="needs-review" name="Needs review?">
      <bpmn:incoming>Flow_1myqhzo</bpmn:incoming>
      <bpmn:outgoing>needs-review-no</bpmn:outgoing>
      <bpmn:outgoing>needs-review-yes</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:exclusiveGateway id="Gateway_1lmj6ts">
      <bpmn:incoming>needs-review-no</bpmn:incoming>
      <bpmn:incoming>Flow_1bobt9r</bpmn:incoming>
      <bpmn:outgoing>Flow_0kwmijy</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:endEvent id="process-end-event">
      <bpmn:documentation>
## KYC Process Completion

Completes the KYC compliance process with final assessment results.
- Input: Completed KYC/AML assessment from business rules evaluation
- Process completion: All compliance checks validated and documented
- Outcome: KYC process successfully completed with compliance status
      </bpmn:documentation>
      <bpmn:incoming>Flow_0kwmijy</bpmn:incoming>
    </bpmn:endEvent>
  </bpmn:process>
  <bpmn:escalation id="Escalation_1alasp1" name="kyc-rejected" escalationCode="kyc-rejected" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_0j7h3t1">
      <bpmndi:BPMNShape id="Participant_1mlz5lf_di" bpmnElement="Participant_1mlz5lf" isHorizontal="true">
        <dc:Bounds x="129" y="60" width="1431" height="650" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_19341zf_di" bpmnElement="Lane_19341zf" isHorizontal="true">
        <dc:Bounds x="159" y="391" width="1401" height="319" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_1uuvqfz_di" bpmnElement="Lane_1uuvqfz" isHorizontal="true">
        <dc:Bounds x="159" y="220" width="1401" height="171" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_0awhta9_di" bpmnElement="Lane_0awhta9" isHorizontal="true">
        <dc:Bounds x="159" y="60" width="1401" height="160" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1v3dn1c_di" bpmnElement="review-kyc">
        <dc:Bounds x="1120" y="100" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0mo0gpw_di" bpmnElement="kyc-approved" isMarkerVisible="true">
        <dc:Bounds x="1315" y="115" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1313" y="93" width="54" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1v46gcz_di" bpmnElement="Event_0u9r5gv" bioc:stroke="#831311" bioc:fill="#ffcdd2" color:background-color="#ffcdd2" color:border-color="#831311">
        <dc:Bounds x="1482" y="122" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1480" y="165" width="44" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="start-event">
        <dc:Bounds x="209" y="289" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_181dsqj_di" bpmnElement="submit-self-declaration">
        <dc:Bounds x="320" y="267" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1qg71gj" bpmnElement="fetch-aml-kyc-risk">
        <dc:Bounds x="540" y="440" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DataStoreReference_0lhn59t_di" bpmnElement="DataStoreReference_0lhn59t">
        <dc:Bounds x="565" y="575" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="561" y="632" width="58" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_01kl318_di" bpmnElement="fetch-screening-and-sanctions">
        <dc:Bounds x="740" y="440" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0c1h1hu" bpmnElement="assess-kyc-aml">
        <dc:Bounds x="940" y="440" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DataStoreReference_05ypske_di" bpmnElement="DataStoreReference_05ypske">
        <dc:Bounds x="765" y="575" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="766" y="632" width="48" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0gxup37_di" bpmnElement="needs-review" isMarkerVisible="true">
        <dc:Bounds x="1145" y="455" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1133" y="515" width="73" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1lmj6ts_di" bpmnElement="Gateway_1lmj6ts" isMarkerVisible="true">
        <dc:Bounds x="1315" y="455" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1ukrfd4_di" bpmnElement="process-end-event">
        <dc:Bounds x="1482" y="462" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1cbhztn_di" bpmnElement="Flow_1cbhztn">
        <di:waypoint x="245" y="307" />
        <di:waypoint x="320" y="307" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1t53lfh_di" bpmnElement="Flow_1t53lfh">
        <di:waypoint x="420" y="307" />
        <di:waypoint x="480" y="307" />
        <di:waypoint x="480" y="480" />
        <di:waypoint x="540" y="480" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_03r9kps_di" bpmnElement="Flow_03r9kps">
        <di:waypoint x="640" y="480" />
        <di:waypoint x="740" y="480" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1l72610_di" bpmnElement="Flow_1l72610">
        <di:waypoint x="840" y="480" />
        <di:waypoint x="940" y="480" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1myqhzo_di" bpmnElement="Flow_1myqhzo">
        <di:waypoint x="1040" y="480" />
        <di:waypoint x="1145" y="480" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_18gv09d_di" bpmnElement="needs-review-no">
        <di:waypoint x="1195" y="480" />
        <di:waypoint x="1315" y="480" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1222" y="462" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_066yp8v_di" bpmnElement="needs-review-yes">
        <di:waypoint x="1170" y="455" />
        <di:waypoint x="1170" y="180" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1176" y="413" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_09gy5v3_di" bpmnElement="Flow_09gy5v3">
        <di:waypoint x="1220" y="140" />
        <di:waypoint x="1315" y="140" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1bobt9r_di" bpmnElement="Flow_1bobt9r">
        <di:waypoint x="1340" y="165" />
        <di:waypoint x="1340" y="455" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1351" y="186" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0wu6fn1_di" bpmnElement="kyc-approved-no">
        <di:waypoint x="1365" y="140" />
        <di:waypoint x="1482" y="140" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1392" y="122" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0kwmijy_di" bpmnElement="Flow_0kwmijy">
        <di:waypoint x="1365" y="480" />
        <di:waypoint x="1482" y="480" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataOutputAssociation_0ww3okt_di" bpmnElement="DataOutputAssociation_0ww3okt">
        <di:waypoint x="592" y="520" />
        <di:waypoint x="594" y="575" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataOutputAssociation_0zalj5y_di" bpmnElement="DataOutputAssociation_0zalj5y">
        <di:waypoint x="790" y="520" />
        <di:waypoint x="790" y="575" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
